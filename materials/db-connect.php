<?php
// –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ PDO
// –í–æ—Ç –±–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

$host = 'localhost';        // –∏–ª–∏ 127.0.0.1
$db   = "businessdb"; // –Ωa–∑–≤a–Ω–∏e_–±–¥
$user = "root"; // '–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è';
$pass = ''; // your_password
$charset = 'utf8mb4';


$dsn = "mysql:host=$host;dbname=$db;charset=$charset";

try {
  // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç PDO –∏ –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è
  $pdo = new PDO($dsn, $user, $pass);

  // –í–∫–ª—é—á–∞–µ–º —Ä–µ–∂–∏–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (–∏—Å–∫–ª—é—á–µ–Ω–∏—è)
  $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

  echo "‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ!";
} catch (PDOException $e) {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏: –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–µ
  echo "‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: " . $e->getMessage() . "<br>";

  echo "–û—à–∏–±–∫–∞ SQL: " . $e->getMessage() . "<br>";
  echo "–ö–æ–¥ –æ—à–∏–±–∫–∏: " . $e->getCode() . "<br>";
  echo "–ü—Ä–æ–∏–∑–æ—à–ª–æ –≤ —Ñ–∞–π–ª–µ: " . $e->getFile() . "<br>";
  echo "–ù–∞ —Å—Ç—Ä–æ–∫–µ: " . $e->getLine() . "<br>";
}





// üß† –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
// new PDO(...) ‚Äî —Å–æ–∑–¥–∞—ë—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.

// setAttribute() ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ (–æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ).

// –ë–ª–æ–∫ try/catch ‚Äî –ª–æ–≤–∏—Ç –æ—à–∏–±–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏ –≤—ã–≤–æ–¥–∏—Ç –µ—ë.